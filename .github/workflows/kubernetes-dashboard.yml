name: build-kubernetes-dashboard

on:
  workflow_dispatch:

env:
  GOPATH: "/tmp/go"

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository
        uses: actions/checkout@v3
      - name: Check out linux-tkg repository
        uses: actions/checkout@v3
        with:
          repository: kubernetes/dashboard
          path: dashboard
      - name: Prepare for build
        run: |
           cd /tmp
           curl -L https://golang.google.cn/dl/go1.19.7.linux-amd64.tar.gz -o go.tar.gz
           tar zxf go.tar.gz
           ls -l /tmp/go/
      - name: Build 
        run: |
           cd dashboard
           PATH=$PATH:$GOPATH/bin make run
#      - uses: actions/upload-artifact@v3
#        with:
#          name: dashboard
#          path: /tmp/*.tar.gz
